# Data Governance Policy for tinygrad Training Recipes
# Phase C1: Data & Governance Implementation
# Version: 1.0.0
# Effective Date: 2025-08-11T00:00:00Z
# Owner: Data Governance Team

# Policy Overview
# This policy defines the rules and guidelines for dataset usage in tinygrad training
# recipes, ensuring compliance with legal, ethical, and technical requirements.

policy:
  metadata:
    version: "1.0.0"
    effectiveDate: "2025-08-11T00:00:00Z"
    lastUpdated: "2025-08-11T18:45:00Z"
    owner: "Data Governance Team"
    contact: "governance@zeropointprotocol.ai"
    reviewCycle: "quarterly"
    nextReview: "2025-11-11T00:00:00Z"

  # Data Source Classification
  dataSources:
    allowed:
      description: "Data sources that are automatically approved for training use"
      categories:
        - name: "public"
          description: "Publicly available datasets with open licenses"
          examples:
            - "OpenWebText"
            - "WikiText-103"
            - "Common Crawl"
            - "Books3"
          requirements:
            - "Must have permissive license (MIT, Apache-2.0, CC-BY-4.0, etc.)"
            - "Must be publicly accessible"
            - "Must not require registration or payment"
        
        - name: "licensed"
          description: "Datasets with explicit licensing for training use"
          examples:
            - "Academic datasets with research licenses"
            - "Commercial datasets with training licenses"
            - "Government datasets with open data licenses"
          requirements:
            - "Must have explicit training use permission"
            - "License must be compatible with project goals"
            - "Must provide license text and terms"
        
        - name: "synthetic"
          description: "Artificially generated datasets"
          examples:
            - "Code generation datasets"
            - "Mathematical problem datasets"
            - "Simulated conversation datasets"
          requirements:
            - "Must be clearly marked as synthetic"
            - "Must not contain real PII"
            - "Must follow ethical generation guidelines"
        
        - name: "custom"
          description: "Custom datasets created by the organization"
          examples:
            - "Internal research datasets"
            - "Partner-provided datasets"
            - "Community-contributed datasets"
          requirements:
            - "Must have clear ownership and licensing"
            - "Must pass all governance checks"
            - "Must have approval from data owner"

    denied:
      description: "Data sources that are prohibited from training use"
      categories:
        - name: "restricted"
          description: "Datasets with usage restrictions"
          examples:
            - "Datasets with no-derivatives clauses"
            - "Datasets with commercial use restrictions"
            - "Datasets with attribution requirements that cannot be met"
          reasons:
            - "Incompatible with training and modification goals"
            - "May violate license terms during training"
            - "Cannot ensure proper attribution in trained models"
        
        - name: "confidential"
          description: "Confidential or proprietary datasets"
          examples:
            - "Internal company data"
            - "Customer data"
            - "Trade secrets"
            - "Unpublished research"
          reasons:
            - "Violates confidentiality agreements"
            - "May contain sensitive business information"
            - "Risk of data leakage through trained models"
        
        - name: "proprietary"
          description: "Proprietary datasets with restrictive licenses"
          examples:
            - "Commercial datasets with restrictive terms"
            - "Licensed datasets without training permission"
            - "Datasets requiring ongoing payments"
          reasons:
            - "Cost prohibitive for long-term use"
            - "License terms may change unexpectedly"
            - "May require ongoing compliance monitoring"
        
        - name: "internal"
          description: "Internal organizational datasets"
          examples:
            - "Employee records"
            - "Financial data"
            - "Operational metrics"
            - "Customer interactions"
          reasons:
            - "May contain PII or sensitive information"
            - "Not intended for external training use"
            - "May violate privacy policies"

  # License Requirements
  licenses:
    allowed:
      description: "License types that are automatically approved"
      types:
        - "MIT"
        - "Apache-2.0"
        - "CC-BY-4.0"
        - "CC-BY-SA-4.0"
        - "CC0"
        - "BSD-3-Clause"
        - "GPL-3.0"
        - "LGPL-3.0"
        - "MPL-2.0"
        - "ISC"
      
      requirements:
        - "Must allow derivative works"
        - "Must allow commercial use"
        - "Must allow distribution"
        - "Attribution requirements must be feasible"
    
    denied:
      description: "License types that are prohibited"
      types:
        - "proprietary"
        - "restricted"
        - "commercial-only"
        - "no-derivatives"
        - "share-alike (if incompatible with project goals)"
        - "non-commercial"
      
      reasons:
        - "Incompatible with training and modification goals"
        - "May require ongoing licensing fees"
        - "Restrictions may prevent model distribution"

  # PII and Privacy Requirements
  privacy:
    maxPIIRiskLevel: "low"
    description: "Maximum allowed PII risk level for datasets"
    
    riskLevels:
      none:
        description: "No PII detected"
        action: "Automatic approval"
        examples:
          - "Synthetic datasets"
          - "Public domain texts"
          - "Mathematical datasets"
      
      low:
        description: "Minimal PII with low density"
        action: "Approval with mitigation"
        examples:
          - "Occasional names or emails"
          - "Public figures mentioned"
          - "Generic addresses"
        requirements:
          - "PII density < 0.001"
          - "No high-risk PII types"
          - "Mitigation plan implemented"
      
      medium:
        description: "Moderate PII with medium density"
        action: "Manual review required"
        examples:
          - "Regular occurrence of names"
          - "Some personal information"
          - "Mixed public/private data"
        requirements:
          - "PII density < 0.01"
          - "Comprehensive mitigation plan"
          - "Legal review required"
      
      high:
        description: "Significant PII with high density"
        action: "Approval unlikely"
        examples:
          - "High density of personal information"
          - "Sensitive personal data"
          - "Medical or financial information"
        requirements:
          - "Special approval required"
          - "Comprehensive legal review"
          - "Advanced mitigation techniques"
      
      critical:
        description: "Critical PII with very high density"
        action: "Prohibited"
        examples:
          - "Medical records"
          - "Financial records"
          - "Government IDs"
          - "Biometric data"
        requirements:
          - "Cannot be approved for training"
          - "Must be rejected immediately"
          - "Report to compliance team"

  # Content Quality Requirements
  quality:
    minimumScore: 0.7
    description: "Minimum quality score required for datasets"
    
    assessmentMethods:
      - "Human evaluation"
      - "Automated validation"
      - "Expert review"
      - "Community feedback"
      - "Statistical analysis"
    
    qualityFactors:
      - "Accuracy and correctness"
      - "Completeness and coverage"
      - "Consistency and coherence"
      - "Relevance to training goals"
      - "Diversity and representativeness"
      - "Bias assessment and mitigation"

  # Bias and Fairness Requirements
  bias:
    assessment: "required"
    description: "Bias assessment required for all datasets"
    
    assessmentAreas:
      - "Demographic representation"
      - "Geographic distribution"
      - "Temporal coverage"
      - "Domain expertise"
      - "Cultural sensitivity"
      - "Language diversity"
    
    mitigationStrategies:
      - "Data augmentation"
      - "Balanced sampling"
      - "Bias-aware training"
      - "Regular evaluation"
      - "Community feedback"

  # Compliance Requirements
  compliance:
    requiredChecks:
      - "pii_scan"
      - "license_validation"
      - "checksum_verification"
      - "content_quality"
      - "bias_assessment"
      - "legal_review"
    
    thresholds:
      maxPIIRiskLevel: 0.1
      minLicenseCompliance: 0.8
      maxChecksumMismatch: 0.0
      minQualityScore: 0.7
      maxBiasScore: 0.3
    
    autoResolution: false
    description: "Automatic resolution of compliance issues is disabled"

  # Data Retention and Disposal
  retention:
    defaultRetentionDays: 365
    description: "Default retention period for datasets"
    
    archiving:
      allowed: true
      requirements:
        - "Secure storage with access controls"
        - "Regular integrity checks"
        - "Audit trail maintenance"
    
    deletion:
      allowed: true
      requirements:
        - "Secure deletion methods"
        - "Verification of deletion"
        - "Audit trail preservation"
    
    disposal:
      method: "secure deletion with audit trail"
      requirements:
        - "Multiple overwrite passes"
        - "Verification of deletion"
        - "Documentation of disposal"

  # Usage Restrictions
  usage:
    primary: "training"
    description: "Primary use case for datasets"
    
    allowed:
      - "Model training and fine-tuning"
      - "Research and development"
      - "Performance evaluation"
      - "Model validation"
      - "Educational purposes"
    
    restricted:
      - "Commercial deployment (requires additional review)"
      - "Redistribution of original data"
      - "Extraction of personal information"
      - "Use in violation of license terms"
    
    prohibited:
      - "Violation of data protection regulations"
      - "Discrimination or bias amplification"
      - "Harmful or malicious applications"
      - "Violation of intellectual property rights"

  # Monitoring and Enforcement
  enforcement:
    monitoring:
      frequency: "continuous"
      methods:
        - "Automated compliance checking"
        - "Regular policy reviews"
        - "Audit trail analysis"
        - "Community feedback"
        - "Legal compliance monitoring"
    
    violations:
      levels:
        - severity: "low"
          action: "Warning and education"
          timeframe: "7 days"
        
        - severity: "medium"
          action: "Temporary suspension"
          timeframe: "30 days"
        
        - severity: "high"
          action: "Immediate suspension"
          timeframe: "Immediate"
        
        - severity: "critical"
          action: "Immediate termination"
          timeframe: "Immediate"
    
    appeals:
      allowed: true
      process:
        - "Submit appeal within 30 days"
        - "Review by governance committee"
        - "Decision within 14 days"
        - "Final decision binding"

  # Documentation and Reporting
  documentation:
    required:
      - "Dataset manifest with metadata"
      - "PII scan reports"
      - "License compliance documentation"
      - "Quality assessment reports"
      - "Bias assessment reports"
      - "Audit trail records"
    
    reporting:
      frequency: "monthly"
      recipients:
        - "Data Governance Team"
        - "Legal Team"
        - "Engineering Leadership"
        - "Compliance Officer"
    
    retention:
      period: "7 years"
      format: "Electronic with backup"
      access: "Governance team and auditors"

# Policy Compliance
compliance:
  status: "active"
  lastAudit: "2025-08-11T18:45:00Z"
  nextAudit: "2025-11-11T00:00:00Z"
  auditor: "Data Governance Team"
  
  metrics:
    totalDatasets: 3
    compliantDatasets: 3
    nonCompliantDatasets: 0
    pendingReview: 0
  
  violations:
    total: 0
    resolved: 0
    outstanding: 0
  
  recommendations:
    - "Continue monitoring PII detection accuracy"
    - "Expand bias assessment coverage"
    - "Implement automated compliance checking"
    - "Regular policy review and updates"

# Contact Information
contacts:
  governance: "governance@zeropointprotocol.ai"
  legal: "legal@zeropointprotocol.ai"
  compliance: "compliance@zeropointprotocol.ai"
  emergency: "emergency@zeropointprotocol.ai"
  
  escalation:
    - level: "Team Lead"
      contact: "team-lead@zeropointprotocol.ai"
      response: "24 hours"
    
    - level: "Manager"
      contact: "manager@zeropointprotocol.ai"
      response: "4 hours"
    
    - level: "Director"
      contact: "director@zeropointprotocol.ai"
      response: "1 hour"
    
    - level: "Executive"
      contact: "executive@zeropointprotocol.ai"
      response: "Immediate"
